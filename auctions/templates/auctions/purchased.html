{% extends "auctions/layout.html" %}

{% block body %}
  <h2 class="py-3 m-3">Purchase History</h2>

  <div class="items-list">
    {% for obj_item in obj %}
      <a href="#" class="item-link">
        <div class="item text-center">
          <img src="{{ obj_item.imageUrl }}" alt="Loading..." class="item-image">
          <div class="details">
            <h2>{{ obj_item.name }}</h2>
            <p>Price: ${{ obj_item.purchase_price }}</p>
            <p>Date of Purchase: {{ obj_item.date|date:"d-m-Y" }}</p>
            <div class="shipping-details">
              <p>Full Name: {{ obj_item.full_name }}</p>
              <p>Phone Number: {{ obj_item.phone_number }}</p>
              <p>Address: {{ obj_item.address }}</p>
              <p>City: {{ obj_item.city }}</p>
              <p>Country: {{ obj_item.country }}</p>
            </div>
          </div>
        </div>
      </a>
    {% empty %}
      <div class="alert alert-info text-center p-4 my-4 mx-2">No items purchased</div>
    {% endfor %}
  </div>

  <style>
    .item-link {
      text-decoration: none;

    }

    .item {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 20px;
    }

    .item-image {
      max-width: 100%;
      height: auto;
    }

    .details {
      margin-top: 10px;
    }

    .shipping-details {
      margin-top: 10px;
    }
  </style>
{% endblock %}
